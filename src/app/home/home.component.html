<div class="height-vh">
  <div class="df height-619">
    <div class="w-18 ml-30">
      <p-carousel class="cursor-pointer" [verticalViewPortHeight]="'619px'" [circular]="true" [value]="leftSliderImages" [numVisible]="1" [showNavigators]="false" [showIndicators]="false" [autoplayInterval]="leftSliderImagesAutoplayInterval" orientation="vertical">
        <ng-template let-image pTemplate="item">
          <div class="df cx">
            <img (click)="openUrl(image.url)" [src]="image.src"/>
          </div>
        </ng-template>
      </p-carousel>
    </div>
    <div class="cxy df w-64" *ngIf="showMenWomen">
      <a href="https://svg.moda/womens" target="_blank" class="w-50 df justify-content-end cursor-pointer">
        <div class="position-relative">
          <img src="assets/woman.png" width="100%">
          <div class="woman">Для женщин</div>
        </div>
      </a>
      <a href="https://svg.moda/mens" target="_blank" class="w-50 df cursor-pointer">
        <div class="position-relative">
          <img src="assets/man.png" width="100%">
          <div class="woman">Для мужчин</div>
        </div>
      </a>
    </div>
    <div class="df w-64 cxy" *ngIf="!showMenWomen">
      <div class="cx" [class.yt-player]="playingVideo == i" *ngFor="let video of newsVideos; let i = index">
        <div class="cx" (mouseenter)="uiHover = true" (mouseleave)="uiHover = false" *ngIf="playingVideo == i">
          <video class="yt-player" [autoplay]="true" [muted]="i == 0 && !touched" [volume]="volume" [src]="video" (timeupdate)="videoTime = videoPlayer.currentTime" #videoPlayer (canplay)="videoLoaded($event, videoPlayer)" (ended)="playNextClassic()">
          </video>
          <div class="player-ui" [@openClose]="uiHover ? 'open' : 'closed'">
            <div class="video-list">
              <div class="video-list-toggle" (click)="videoListShow = !videoListShow">
                <i class="pi pi-bars" style="color: white; font-size: 2rem"></i>
              </div>
              <div class="video-list-videos" *ngIf="videoListShow">
                <p-virtualScroller [value]="newsVideos" scrollHeight="500px" style="width: 250px" [itemSize]="135">
                  <ng-template pTemplate="item" let-v>
                    <div class="cxy" (mouseenter)="thumb.play(); thumb.currentTime = thumb.currentTime + 20" (mouseleave)="thumb.pause()" (click)="playingVideo = newsVideos.indexOf(v)">
                      <video [muted]="true" #thumb class="video-list-video" [src]="v"></video>
                    </div>
                  </ng-template>
                </p-virtualScroller>
              </div>
            </div>
            <div>
              <div class="player-button play-pause-button cxy" *ngIf="!videoPlayer.paused" (click)="videoPlayer.pause()">
                <i class="pi pi-pause" style="font-size: 2rem"></i>
              </div>
              <div class="player-button play-pause-button cxy" *ngIf="videoPlayer.paused" (click)="videoPlayer.play()">
                <i class="pi pi-play" style="font-size: 2rem"></i>
              </div>
            </div>
            <div class="player-background">
              <div class="all-player">
                <div class="video-progress w200px cp">
                  <input [ngStyle]="getProgressSize(videoTime, videoPlayer.duration)" class="player-ui-seek ml-20" [(ngModel)]="videoTime" (ngModelChange)="videoPlayer.currentTime = videoTime" [max]="videoPlayer.duration" type="range" step="0.1" [min]="0">
                </div>
                <div class="df space-between">
                  <div class="df cxy w140px ml-10">
                    <div class="seek-tooltip time-text">{{getVideoTime(videoTime) + ' ' + '/'}}</div><div class="seek-tooltip time-text">{{getVideoTime(videoPlayer.duration)}}</div>
                  </div>
                  <div class="df mr-20">
                    <div class="sound-icon cxy mr-10">
                      <div class="cp cxy" (click)="volume = 0" *ngIf="volume >= 0.5">
                        <img src="assets/player/sound2.svg" height="24">
                      </div>
                      <div class="cp cxy" (click)="volume = 0" *ngIf="volume < 0.5 && volume != 0">
                        <img src="assets/player/sound1.svg" height="24">
                      </div>
                      <div class="cp cxy" (click)="volume = 0.5" *ngIf="volume == 0">
                        <img src="assets/player/sound0.svg" height="24">
                      </div>
                    </div>
                    <div class="mr-10 cxy w100px">
                      <input [ngStyle]="getProgressSize(volume, 1)" class="vol" id="vol-control"  type="range" min="0" max="1" step="0.05" [(ngModel)]="volume" (ngModelChange)="videoPlayer.muted = false"/>
                    </div>
                    <div class="player-pic cxy mx-2px" (click)="videoPlayer.requestPictureInPicture()">
                      <img src="assets/player/pip.svg" height="24">
                    </div>
                    <div class="player-pic cxy mx-2px" (click)="videoPlayer.requestFullscreen()">
                      <img src="assets/player/full.svg" height="24">
                    </div>
                    <div class="player-pic cxy mx-2px" (click)="playPrevClassic()">
                      <img src="assets/player/prev-vi.svg" height="24">
                    </div>
                    <div class="player-pic cxy mx-2px" (click)="playNextClassic()">
                      <img src="assets/player/next-vi.svg" height="24">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="w-18 df space-between flex-column mr-30 height-619">
      <p-carousel [verticalViewPortHeight]="'300px'" [circular]="true" [value]="rightSliderImages" [numVisible]="1" [showNavigators]="false" [showIndicators]="false" [autoplayInterval]="rightSliderImagesAutoplayInterval" orientation="vertical">
        <ng-template let-image pTemplate="item">
          <div class="df cxy">
            <img class="cursor-pointer" [style]="'max-width: 300px'" width="100%" (click)="openUrl(image.url)" [src]="image.src"/>
          </div>
        </ng-template>
      </p-carousel>
      <p-carousel [verticalViewPortHeight]="'300px'" [circular]="true" [value]="rightSliderArticles" [numVisible]="1" [showNavigators]="false" [showIndicators]="false" [autoplayInterval]="rightSliderArticlesAutoplayInterval" orientation="vertical">
        <ng-template let-image pTemplate="item">
          <div class="df cxy">
            <img class="cursor-pointer" [style]="'max-width: 300px'" width="100%" (click)="openUrl(image.url)" [src]="image.src"/>
          </div>
        </ng-template>
      </p-carousel>
    </div>
  </div>
  <div class="footer">
    <div class="position-relative">
      <div class="footer-img">
        <ng-marquee [stopOnHover]="true" class="marquee cursor-pointer h-100" duration="60s">
          <mark class="marquee-mark position-relative">
            <div class="inline-block df space-between w-100 mt-25">
              <img *ngFor="let cal of calendarPages" class="mx-120" [src]="cal" height="150" (click)="selectedCalendarPage = cal; selectedCalendarPageVisislbe = true">
            </div>
          </mark>
        </ng-marquee>

        <ng-marquee duration="1200s" [stopOnHover]="true" class="marquee">
          <span *ngFor="let mark of marksArray" class="marquee-mark" [innerHTML]="marks"></span>
        </ng-marquee>

      </div>
    </div>
  </div>
</div>

<div class="calendar-page-preview" *ngIf="selectedCalendarNews != null">
  <div>{{selectedCalendarNews.header}}</div>
  <button (click)="selectedCalendarNews = null">CLOSE</button>
</div>

<p-dialog [(visible)]="selectedCalendarPageVisislbe" [modal]="true" [style]="{ width: 'auto' }" [draggable]="false" [resizable]="false">
  <img [src]="selectedCalendarPage" height="500px">
</p-dialog>
